<div class="ht-topo-viewer">
  <div class="page-header">
    <div class="container">
      <h1>TOPO<small ng-click="stateMachine.next()">[[ stateMachine.current ]]</small></h1>
    </div>
  </div>
  <div ht-selection-helper="envSelectionManager"
       selection-data="envCollection"
       selection-id-field="id">
  </div>


<div class="nav-drop">
  <div class="container">
    <ht-topo-file-selector topos="topos"></ht-topo-file-selector>

    <form class="navbar-form navbar-left selection-search" role="search">
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Search">
      </div>
      <!-- <button type="submit" class="btn btn-default">Submit</button> -->
    </form>
    
    <ht-environment-nav groups="envGroups"
                        group-names="groupKeys"
                        selection-manager="envSelectionManager">
    </ht-environment-nav>
  </div>
</div>

<div class="container results-filter">
    <div class="checkbox">
      <label>
        <input type="checkbox" ng-model="showEmptyKeys">
        Show empty keys
      </label>
    </div>
    <div class="checkbox">
      <label>
        <input type="checkbox" ng-model="showDefaultValues">
        Show default values
      </label>
    </div>
    <div class="checkbox">
      <label>
        <input type="checkbox" ng-model="showExpandedValues">
        Show expanded values
      </label>
    </div>
    <table ng-if="topos" class="table table-hover">
      <th>Key</th>
      <th ng-repeat="env in selectedEnvs">
        [[ env ]]
      </th>
      <tr ng-repeat="key in filteredKeys">
        <td>
          [[ key ]]
        </td>
        <td ng-repeat="env in selectedEnvs" ng-class="{ 'default-value': isDefaultValue(env, key) }">
          [[ getTopoValue(env, key) ]]
        </td>
      </tr>
    </table>
</div>
